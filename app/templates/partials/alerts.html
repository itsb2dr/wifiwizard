{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="flash-wrapper" style="margin-top: 16px; margin-bottom: 24px;">
      {% for category, message in messages %}
        <div class="flash flash-{{ category }}{% if message == 'QR Code shared successfully.' %} auto-dismiss{% endif %}" style="margin-bottom: 14px;">
          <span>{{ message }}</span>
          <span class="close-btn" onclick="this.parentElement.remove();">&times;</span>
        </div>
      {% endfor %}
    </div>
    <script>
      setTimeout(() => {
        document.querySelectorAll('.flash.auto-dismiss').forEach(el => el.remove());
      }, 3000);
    </script>
  {% endif %}
{% endwith %}
